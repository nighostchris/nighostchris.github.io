(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{mpUk:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var r=a("q1tI"),n=a.n(r);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var i=function(e){return function(){return e}},o=n.a.memo((function(e){var t=e.render,a=void 0===t?i(null):t,r=e.style,o=void 0===r?i({}):r,s=e.ratio,c=e.posX,d=e.posY,m=e.square,u=void 0!==m&&m,f=e.height,x=void 0===f?"2rem":f,g=e.value,p=e.onClick;return n.a.createElement("div",{onClick:function(){return(p||i({}))(c,d)},style:l({border:"1px solid #fff",borderWidth:"1px 1px 0 0",textAlign:"center",color:"rgb(0, 0, 0, "+(s/2+.4)+")",overflow:"hidden",boxSizing:"border-box",flexGrow:u?0:1,flexBasis:u?x:0,flexShrink:0,height:x,lineHeight:x,borderRadius:"4px",fontSize:".8rem",cursor:p?"pointer":"initial",background:"rgb(12, 160, 44, "+(s+.05)+")"},o(c,d,s))},a(c,d,g))}));function s(e){var t=e.children,a=e.reverse,r=void 0!==a&&a;return n.a.createElement("div",{style:{display:"flex",flexDirection:r?"row-reverse":"row",justifyContent:r?"flex-end":"initial"}},t)}function c(e){var t=e.labels,a=e.xLabelsStyle,r=void 0===a?function(){return{}}:a,i=e.height,o=e.square,s=void 0!==o&&o,c=100/t.length+"%";return n.a.createElement("div",{style:{display:"flex",textAlign:"center"}},t.map((function(e,t){return n.a.createElement("div",{key:e,style:l({padding:"0.2rem 0",boxSizing:"border-box",flexGrow:s?"initial":1,overflow:"hidden",flexShrink:1,flexBasis:s?i:c,width:s?i:c},r(t))},e)})))}function d(e){var t=e.children,a=e.grow,r=void 0!==a&&a,l=e.reverse,i=void 0!==l&&l;return n.a.createElement("div",{style:{display:"flex",flexDirection:i?"column-reverse":"column",flexGrow:r?1:0}},t)}function m(e){var t=e.labels,a=e.height,r=e.yLabelsStyle,i=void 0===r?function(){return{}}:r,o=e.reverse,s=void 0!==o&&o;return n.a.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:s?"left":"right"}},t.map((function(e,t){return n.a.createElement("div",{key:e,style:l({boxSizing:"border-box",padding:"0 0.2rem",lineHeight:a},i(t))},e)})))}function u(e){var t,a=e.xLabelHeight,r=e.isXLabelReverse,l=e.children,i=((t={})[r?"marginBottom":"marginTop"]=a+"px",t);return n.a.createElement("div",{style:i},l)}var f=function(e){var t,a,l,i,f,x=e.data,g=e.xLabels,p=e.yLabels,b=e.xLabelsPos,h=void 0===b?"top":b,y=e.yLabelsPos,v=void 0===y?"left":y,E=e.square,L=void 0!==E&&E,w=e.cellHeight,X=void 0===w?"2px":w,S=e.xLabelsStyle,k=e.yLabelsStyle,F=e.cellStyle,N=e.cellRender,O=e.onClick,j=(t=22,a=n.a.useRef(null),l=n.a.useState(t),i=l[0],f=l[1],n.a.useEffect((function(){if(a.current){var e=(a.current||{}).clientHeight;f(e)}}),[]),[i,a]),B=j[0],A=j[1],P=function(e){var t=e.reduce((function(e,t){return[].concat(t,e)}),[]),a=Math.max.apply(Math,t);return[Math.min.apply(Math,t),a]}(x),D=P[0],H=P[1]-D,R="bottom"===h,I="right"===v;return Object(r.createElement)(s,{reverse:I},p&&Object(r.createElement)(u,{xLabelHeight:B,isXLabelReverse:R},Object(r.createElement)(m,{reverse:I,labels:p,height:X,yLabelsStyle:k})),Object(r.createElement)(d,{reverse:R,grow:!L},Object(r.createElement)("div",{ref:A},g&&Object(r.createElement)(c,{labels:g,xLabelsStyle:S,height:X,square:L})),Object(r.createElement)(d,null,x.map((function(e,t){return Object(r.createElement)(s,{key:t},e.map((function(e,a){return Object(r.createElement)(o,{key:t+"-"+a,posX:t,posY:a,onClick:O,value:e,height:X,square:L,render:N,style:F,ratio:(e-D)/H})})))})))))}},pLfu:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"stockQuery",(function(){return u}));var r=a("KQm4"),n=a("q1tI"),l=a.n(n),i=a("mpUk"),o=a("IP2g"),s=a("wHSu"),c=a("ajoc"),d=new Map([["communication","XLC"],["consumer_discretionary","XLY"],["consumer_staples","XLP"],["energy","XLE"],["financials","XLF"],["health_care","XLV"],["industrials","XLI"],["materials","XLB"],["real_estate","XLRE"],["technology","XLK"],["utilities","XLU"]]),m=["XLC - 通訊服務","XLY - 非必需消費品","XLP - 必需消費品","XLE - 能源","XLF - 金融","XLV - 醫療","XLI - 工業","XLB - 物料","XLRE - 房地產","XLK - 科技","XLU - 公共"],u="3996948292";t.default=function(t){var n,u,f=t.data;e.browser&&(u=a("06Lf"));var x=l.a.useState(!1),g=x[0],p=x[1],b=f.nighost.snp_breadths.sort((function(e,t){return new Date(e.date)>new Date(t.date)?-1:1})),h=b.map((function(e){return e.date})),y=b.map((function(e){return[e.communication,e.consumer_discretionary,e.consumer_staples,e.energy,e.financials,e.health_care,e.industrials,e.materials,e.real_estate,e.technology,e.utilities]})),v=h.map((function(e,t){return[].concat(Object(r.a)(y[t]),[y[t].reduce((function(e,t){return e+t}))])})),E=y.map((function(e,t){return{date:b[t].date,total:e.reduce((function(e,t){return e+t}))}})),L=(n=[]).concat.apply(n,Object(r.a)(b.map((function(e){return Object.keys(e).map((function(t){return{date:e.date,value:e[t],industry:d.get(t)}}))})))).filter((function(e){return e.industry})),w=Object.keys(b[0]).map((function(e){return{value:b[0][e],industry:d.get(e)}})).filter((function(e){return e.industry})),X=function(e){var t=[250,87,87],a=[255,255,255],r=[14,158,109];if(e<.5){var n=2*e;return"rgb("+(t[0]+(a[0]-t[0])*n)+", "+(t[1]+(a[1]-t[1])*n)+", "+(t[2]+(a[2]-t[2])*n)+")"}if(e>.5){var l=2*(e-.5);return"rgb("+(a[0]-(a[0]-r[0])*l)+", "+(a[1]-(a[1]-r[1])*l)+", "+(a[2]-(a[2]-r[2])*l)+")"}return"rgb(255, 255, 255)"};return l.a.createElement(c.a,{props:{title:"StonksViz - S&P Breadth"}},l.a.createElement("div",{className:"w-full h-fit-content md:max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl 2xl:max-w-screen-2xl flex flex-col mx-auto py-6 md:py-8 px-6 md:px-0"},l.a.createElement("h1",{className:"text-xl lg:text-3xl font-bold mb-2"},"What's S&P Breadth ?"),l.a.createElement("p",{className:"text-lg lg:text-xl text-gray-600 mb-2"},"Any S&P constitue that has it's last updated price ",l.a.createElement("strong",null,">"," 20 MA")," will get 1 mark."),l.a.createElement("p",{className:"text-lg lg:text-xl text-gray-600 mb-4"},"We will define the market trend as ",l.a.createElement("strong",null,"OVERHEAT")," when the sum of marks are ",">"," 900, ",l.a.createElement("strong",null,"OVERSELL")," when the sum ",">"," 200"),l.a.createElement("div",{className:"flex flex-row justify-between items-center px-4 bg-gray-400 w-full tracking-widest rounded-sm cursor-pointer h-8 "+(g?"":"mb-4 md:mb-8"),onClick:function(){return p(!g)}},l.a.createElement("h6",{className:"text-gray-100"},"Industry Abbreviation"),l.a.createElement(o.a,{icon:g?s.d:s.c,size:"lg",className:"text-white"})),l.a.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 px-4 py-4 mt-2 rounded-sm bg-gray-300 font-bold "+(g?"block mb-4 md:mb-8":"hidden")},m.map((function(e){return l.a.createElement("p",{className:"text-center text-gray-700 hover:bg-gray-200 rounded-md"},e)}))),e.browser&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4"},l.a.createElement("div",{className:"w-full flex p-4 md:p-6 bg-white rounded-sm shadow-sm flex-col"},l.a.createElement("p",{className:"text-md md:text-lg mb-4 md:mb-6 mx-auto"},"Last Trading Day S&P Breadth"),l.a.createElement(u.Bar,{data:w,xField:"value",xAxis:{position:"right"},yField:"industry",legend:!1,color:["#5B8FF9"],label:{style:{textAlign:"center",fontWeight:"bold"}}})),l.a.createElement("div",{className:"w-full flex p-4 md:p-6 bg-white rounded-sm shadow-sm flex-col mt-8 md:mt-0"},l.a.createElement("p",{className:"text-md md:text-lg mb-4 md:mb-6 mx-auto"},"S&P Breadth Trend"),l.a.createElement(u.Line,{data:E,xField:"date",yField:"total",xAxis:{type:"time"},yAxis:{maxLimit:1100},annotations:[{type:"text",position:["10%","79%"],content:"Oversell Threshold",style:{fontWeight:"bold"}},{type:"text",position:["10%","15%"],content:"Overheat Threshold",style:{fontWeight:"bold"}},{type:"line",start:["0%","82%"],end:["100%","82%"],style:{stroke:"#F3323A",lineDash:[1,1],lineWidth:2}},{type:"line",start:["0%","18%"],end:["100%","18%"],style:{stroke:"#149D38",lineDash:[1,1],lineWidth:2}}]}))),l.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4 md:mt-8"},l.a.createElement("div",{className:"w-full flex p-4 md:p-6 bg-white rounded-sm shadow-sm mt-8 md:mt-0 flex-col"},l.a.createElement("p",{className:"text-md md:text-lg mb-4 md:mb-6 mx-auto"},"S&P Breadth Trend by Industry"),l.a.createElement(u.Line,{data:L,xField:"date",yField:"value",seriesField:"industry",xAxis:{type:"time"},yAxis:{tickInterval:25},color:["#0963EF","#4645F6","#AB32F1","#F62575","#F3323A","#E6520E","#C96E06","#9B7F05","#149D38","#0D87BE","#000000"]})),l.a.createElement("div",{className:"w-full flex p-4 md:p-6 bg-white rounded-sm shadow-sm mt-8 md:mt-0 flex-col"},l.a.createElement("p",{className:"text-md md:text-lg mb-4 md:mb-6 mx-auto"},"S&P Breadth Heatmap by Industry"),l.a.createElement(u.Heatmap,{data:L,xField:"date",yField:"industry",colorField:"value",color:function(e){return X(e/100)}}))),l.a.createElement("div",{className:"w-full hidden md:flex px-6 py-8 bg-white rounded-sm shadow-sm mt-8 flex-col"},l.a.createElement("p",{className:"text-md md:text-lg mb-4 md:mb-6 mx-auto"},"S&P Breadth Heatmap by Industry (Detailed)"),l.a.createElement(i.a,{data:v,xLabels:["XLC","XLY","XLP","XLE","XLF","XLV","XLI","XLB","XLRE","XLK","XLU","Total"],xLabelsStyle:function(e){return{fontSize:"14px",marginLeft:11===e&&"16px"}},yLabels:h,yLabelsStyle:function(){return{fontSize:"14px",marginRight:"16px",textAlign:"justify"}},cellHeight:"36px",cellStyle:function(e,t,a){return{marginLeft:11===t&&"16px",background:X(11!==t?v[e][t]/100:v[e][t]/1100)}},cellRender:function(e,t,a){return l.a.createElement("div",{title:"Pos("+e+", "+t+") = "+a,style:{fontWeight:"bold",fontSize:"14px"}},a)}})))))}}.call(this,a("8oxB"))}}]);
//# sourceMappingURL=component---src-pages-stonksviz-snpbreadth-js-8a648d06ccd3341c6a08.js.map